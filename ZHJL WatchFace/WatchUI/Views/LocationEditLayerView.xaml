<ContentControl x:Class="WatchUI.Views.LocationEditLayerView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:vm="clr-namespace:WatchBasic.Tool;assembly=WatchBasic"
        mc:Ignorable="d"
        xmlns:material="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:prism="http://prismlibrary.com/"
        Height="700" Width="800"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal" 
        TextOptions.TextRenderingMode="Auto"        
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="微软雅黑"
        prism:ViewModelLocator.AutoWireViewModel="True" >
    <ContentControl.Resources>
        <vm:BoolToVisibilityConverter x:Key="booltovis"/>
    </ContentControl.Resources>
    <GroupBox Header="设置位置" FocusManager.FocusedElement="{Binding ElementName=ValueX}">
        <Grid Background="White">
            <Grid.RowDefinitions>
                <RowDefinition Height="60*"/>
                <RowDefinition Height="30*"/>
            </Grid.RowDefinitions>
            <Image Source="{Binding Coordinate.BitmapSource, TargetNullValue={x:Null}}"/>
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="1"  Background="Gray">
                    <StackPanel Orientation="Horizontal">
                        <!--<TextBlock Text="{Binding LocationName}" Width="150"/>-->
                        <ComboBox ItemsSource="{Binding LocationNames}" SelectedItem="{Binding UI.LocationName,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsEnable}" Width="150"></ComboBox>
                        <TextBox Name="ValueX" material:HintAssist.Hint="X" Text="{Binding UI.Left}" GotFocus="TextBox_GotFocus" Width="60" Margin="10 0 0 0"  VerticalAlignment="Bottom" />
                        <TextBox material:HintAssist.Hint="Y" Text="{Binding UI.Top,UpdateSourceTrigger=PropertyChanged}" GotFocus="TextBox_GotFocus"  Width="60" Margin="10 0 0 0"  VerticalAlignment="Bottom" />
                        
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button Style="{StaticResource MaterialDesignRaisedButton}" Margin="5 0 0 0" Content="+" Cursor="Hand" Command="{Binding AddLocatonItemCommand}" HorizontalAlignment="Right" />
                        <Button Style="{StaticResource MaterialDesignRaisedButton}" Margin="5 0 0 0" Content="-" Cursor="Hand" Command="{Binding SubLocatonItemCommand}" CommandParameter="{Binding ElementName=itemlist,Path=SelectedItem}"  HorizontalAlignment="Right" />
                    </StackPanel>
                    <ListBox Name="itemlist" ItemsSource="{Binding UI.WatchTypeLocationItems}" Height="100">
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <Image Width="60" Height="60" Source="{Binding DesignSketch.ImgPath}" Cursor="Hand"/>
                                    <TextBlock Text="{Binding WatchTitle}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                    <StackPanel Height="50" Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                        <Button Margin="20 0 0 0" Command="{Binding Confim}" Cursor="Hand" IsDefault="True">确定</Button>
                        <Button Margin="20 0 0 0" Command="{Binding Canccel}" Cursor="Hand">取消</Button>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Grid>
    </GroupBox>

    </ContentControl>

