<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:lib="clr-namespace:WatchControlLibrary"
                    xmlns:convert="clr-namespace:WatchControlLibrary.Convert">
    <convert:ItemNameConvert x:Key="itemNameConvert"/>
    <DataTemplate x:Key="DragBindNumsTemplate">
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
           DataContext="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType={x:Type ContentControl}}}">
            <Border Background="#2C2C2C" CornerRadius="30"  Margin="10 10 10 0" TextBlock.FontSize="20">
                <StackPanel Orientation="Vertical" Margin="20 15">
                    <Grid  Margin="0 0 0 10">
                        <TextBlock Text="{Binding DragName}" Foreground="LightGray" Name="dragname"/>
                        <TextBox  Text="{Binding CurrentNum, UpdateSourceTrigger=PropertyChanged}" Foreground="White"
                          HorizontalAlignment="Right" Background="Transparent" BorderThickness="0"/>
                    </Grid>
                    <!--<Slider Maximum="{Binding MaxNum}" Minimum="{Binding MinNum}" Value="{Binding CurrentNum, Mode=TwoWay}" 
                   SmallChange="1" Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}"/>-->
                    <Slider Maximum="{Binding MaxNum}" Minimum="{Binding MinNum}" 
                   SmallChange="1" Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}">
                        <Slider.Style>
                            <Style TargetType="Slider" BasedOn="{StaticResource MaterialDesign3.MaterialDesignSlider}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ItemName}" Value="步数">
                                        <Setter Property="Value" Value="{Binding DataContext.SelectStyle.Zh.Item.StepNum, RelativeSource={RelativeSource AncestorType=Grid,AncestorLevel=2}}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName}" Value="卡路里">
                                        <Setter Property="Value" Value="{Binding DataContext.SelectStyle.Zh.Item.CalorieNum, RelativeSource={RelativeSource AncestorType=Grid,AncestorLevel=2}}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName,Converter={StaticResource itemNameConvert}}" Value="锻炼">
                                        <Setter Property="Value" Value="{Binding DataContext.SelectStyle.Zh.Item.StrengthNum,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=Grid,AncestorLevel=2}}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName, Converter={StaticResource itemNameConvert}}" Value="其他">
                                        <Setter Property="Value" Value="{Binding CurrentNum}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Slider.Style>
                    </Slider>
                    
                    <!--<Slider Maximum="{Binding MaxNum}" Minimum="{Binding MinNum}"  
                   SmallChange="1" Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}">
                        <Slider.Value>
                            <MultiBinding Converter="{StaticResource selectValue}" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                                <Binding Path="DataContext.ItemRelateds" RelativeSource="{RelativeSource AncestorType=ListBox}" UpdateSourceTrigger="PropertyChanged"/>
                                <Binding Path="ItemName" UpdateSourceTrigger="PropertyChanged"/>
                            </MultiBinding>
                        </Slider.Value>
                    </Slider>-->
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="DragBindSwitchTemplate">
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
           DataContext="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType={x:Type ContentControl}}}">
            <Border Background="#2C2C2C" CornerRadius="30"  Margin="10 10 10 0" TextBlock.FontSize="20">
                <StackPanel Orientation="Vertical" Margin="20 15">
                    <Grid  Margin="0 0 0 10">
                        <TextBlock Text="{Binding DragName}" Foreground="LightGray"/>
                        <ToggleButton IsChecked="{Binding IsOpen}"  HorizontalAlignment="Right"/>
                        <!--<TextBox  Text="{Binding CurrentNum, UpdateSourceTrigger=PropertyChanged}" 
                          HorizontalAlignment="Right" Background="Transparent" BorderThickness="0"/>-->
                    </Grid>
                    <!--<Slider Maximum="{Binding MaxNum}" Minimum="0" Value="{Binding CurrentNum, Mode=TwoWay}" 
                   SmallChange="1" Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}"/>-->
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="DragBindSingleDigitTemplate">
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
        DataContext="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType={x:Type ContentControl}}}">
            <Border Background="#2C2C2C" CornerRadius="30"  Margin="10 10 10 0" TextBlock.FontSize="20">
                <StackPanel Orientation="Vertical" Margin="20 15">
                    <Grid  Margin="0 0 0 10">
                        <TextBlock Text="{Binding DragName}" Foreground="LightGray"/>
                        <TextBox  Text="{Binding CurrentNum, UpdateSourceTrigger=PropertyChanged}"  Foreground="White"
                       HorizontalAlignment="Right" Background="Transparent" BorderThickness="0"/>
                    </Grid>
                    <Slider Maximum="99999" Minimum="0" Value="{Binding CurrentNum, Mode=TwoWay}" 
                SmallChange="1" Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}"/>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="DragBindDoubleTemplate">
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
       DataContext="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType={x:Type ContentControl}}}">
            <Border Background="#2C2C2C" CornerRadius="30"  Margin="10 10 10 0" TextBlock.FontSize="20">
                <StackPanel Orientation="Vertical" Margin="20 15">
                    <Grid  Margin="0 0 0 10">
                        <TextBlock Text="{Binding DragName}" Foreground="LightGray"/>
                        <TextBox  Text="{Binding CurrentNum, UpdateSourceTrigger=PropertyChanged}" Foreground="White" 
                      HorizontalAlignment="Right" Background="Transparent" BorderThickness="0"/>
                    </Grid>
                    <Slider Maximum="{Binding MaxNum}"  Minimum="{Binding MinNum}" Value="{Binding CurrentNum, Mode=TwoWay}" 
                     Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}">
                        <Slider.Style>
                            <Style TargetType="Slider" BasedOn="{StaticResource MaterialDesign3.MaterialDesignSlider}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ItemName}" Value="睡眠时长">
                                        <Setter Property="SmallChange" Value="0.01" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName}" Value="步数距离">
                                        <Setter Property="SmallChange" Value="0.01" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Slider.Style>
                    </Slider>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="DragBindKeyValueTemplate">
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
   DataContext="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType={x:Type ContentControl}}}">
            <Border Background="#2C2C2C" CornerRadius="30"  Margin="10 10 10 0" TextBlock.FontSize="20" TextBlock.Foreground="LightGray">
                <StackPanel Orientation="Vertical" Margin="20 15">
                    <Grid  Margin="0 0 0 10">
                        <TextBlock Text="{Binding DragName}"/>
                        <TextBox  Text="{Binding KeyValue.Key,Mode=OneWay}" Foreground="White"
                  HorizontalAlignment="Right" Background="Transparent" BorderThickness="0"/>
                    </Grid>
                    <Slider Maximum="{Binding MaxNum}" SmallChange="1" Minimum="{Binding MinNum}" Value="{Binding CurrentNum, Mode=TwoWay}" 
                 Foreground="#2587ef" IsSelectionRangeEnabled="True" SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}"/>
                    <TextBlock Text="{Binding KeyValue.Value}"/>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="DragBindProgressTemplate">
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
   DataContext="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType={x:Type ContentControl}}}">
            <Border Background="#2C2C2C" CornerRadius="30"  Margin="10 10 10 0" TextBlock.FontSize="20" TextBlock.Foreground="LightGray">
                <StackPanel Orientation="Vertical" Margin="20 15">
                    <Grid  Margin="0 0 0 10">
                        <TextBlock Text="{Binding DragName}"/>
                        <TextBox  Text="{Binding RatioNum ,Mode=TwoWay}" Foreground="White"  HorizontalAlignment="Right" Background="Transparent" BorderThickness="0">
                        </TextBox>
                    </Grid>
                    <lib:RatioSlider Maximum="100" SmallChange="1" Minimum="0" 
                                     TargetValue="{Binding TargetValue,Mode=TwoWay}"
                                     Foreground="#2587ef" IsSelectionRangeEnabled="True" 
                                    
                                     SelectionStart="0" SelectionEnd="{Binding Value, RelativeSource={RelativeSource Mode=self}}">
                        <Slider.Style>
                            <Style TargetType="lib:RatioSlider" BasedOn="{StaticResource MaterialDesign3.MaterialDesignSlider}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ItemName}" Value="步数完成度">
                                        <Setter Property="CurrentNum" Value="{Binding DataContext.SelectStyle.Zh.Item.StepNum,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=Grid,AncestorLevel=2}}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName}" Value="卡路里完成度">
                                        <Setter Property="CurrentNum" Value="{Binding DataContext.SelectStyle.Zh.Item.CalorieNum,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=Grid,AncestorLevel=2}}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName,Converter={StaticResource itemNameConvert}}" Value="锻炼">
                                        <Setter Property="CurrentNum" Value="{Binding DataContext.SelectStyle.Zh.Item.StrengthNum,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=Grid,AncestorLevel=2}}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ItemName, Converter={StaticResource itemNameConvert}}" Value="其他">
                                        <Setter Property="CurrentNum" Value="{Binding CurrentNum,Mode=TwoWay}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Slider.Style>
                    </lib:RatioSlider>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>
</ResourceDictionary>